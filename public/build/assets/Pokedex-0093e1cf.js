var g=Object.defineProperty;var d=(s,n,t)=>n in s?g(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var l=(s,n,t)=>(d(s,typeof n!="symbol"?n+"":n,t),t);import{j as e,r as m,a as h,b as p}from"./app-0b637f12.js";function c({value:s,className:n="",children:t,...a}){return e.jsx("label",{...a,className:"block font-medium text-sm text-gray-700 "+n,children:s||t})}const u=m.forwardRef(function({type:n="text",className:t="",isFocused:a=!1,...i},o){const r=o||m.useRef();return m.useEffect(()=>{a&&r.current.focus()},[]),e.jsx("input",{...i,type:n,className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm "+t,ref:r})});function x({className:s="",disabled:n,children:t,...a}){return e.jsx("button",{...a,className:`inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 ${n&&"opacity-25"} `+s,disabled:n,children:t})}function j({options:s,value:n,className:t="",...a}){const i=Object.keys(s);return e.jsx("select",{...a,defaultValue:n,className:"font-medium text-sm text-gray-700 "+t,children:i.map(o=>{const r=s[o];return e.jsx("option",{value:o,children:r},o)})})}function f({pokemon:s,className:n="",...t}){const a=i=>{let o=[];for(let r=0;r<i.length;r++)o.push(i[r].name);return o.join(", ")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{...t,className:"bg-orange-400 p-10 flex flex-col items-center justify-center font-medium text-center text-sm text-gray-700 "+n,children:[e.jsx("img",{className:"pokemon-img mb-5",src:"/images/pokemons/"+s.image}),e.jsxs("h2",{className:"m-0",children:[e.jsx("strong",{children:"Name:"})," ",s.name]}),e.jsxs("p",{className:"m-0",children:[e.jsx("strong",{children:"Type:"})," ",a(s.types)]})]}),e.jsx("style",{children:`
            .pokemon-img {
                max-width: 100px;
            }
            `})]})}class y extends m.Component{constructor(){super();l(this,"getPokemons",()=>{this.state.ajaxController!==null&&this.state.ajaxController.abort();const t=new AbortController;this.setState({ajaxController:t}),h.get(route("pokemons.index"),{signal:t.signal,params:{page:this.state.page,name:this.state.name,type:this.state.type}}).then(a=>{this.setState({lastPage:a.data.last_page,pokemons:[...this.state.pokemons,...a.data.data]})}).finally(()=>{this.setState({ajaxController:null})})});l(this,"nameChanged",t=>{this.setState({pokemons:[],page:1,name:t.target.value}),setTimeout(()=>{this.getPokemons()},0)});l(this,"typeChanged",t=>{this.setState({pokemons:[],page:1,type:t.target.value}),setTimeout(()=>{this.getPokemons()},0)});l(this,"nextPage",t=>{this.setState({page:this.state.page+1}),setTimeout(()=>{this.getPokemons()},0)});this.state={pokemons:[],name:"",type:"All",page:1,lastPage:null,ajaxController:null}}componentDidMount(){this.getPokemons()}nextButton(){return this.state.page<this.state.lastPage?e.jsx(x,{onClick:this.nextPage,children:"See More Pokemons"}):null}bottomSection(){return this.state.pokemons.length==0?e.jsx(e.Fragment,{children:e.jsx("h1",{className:"mt-16",children:"No pokemons found."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-16 mb-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8",children:this.state.pokemons.map((t,a)=>e.jsx(f,{pokemon:t},a))})}),this.state.ajaxController===null?this.nextButton():e.jsx("img",{src:"/images/loader.svg"})]})}render(){return e.jsxs(e.Fragment,{children:[e.jsx("form",{className:"sm:flex sm:justify-center sm:items-center",onSubmit:t=>{t.preventDefault()},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 items-end",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"pokemon-name",children:"Search by Pokemon Name"}),e.jsx(u,{id:"pokemon-name",name:"name",onChange:this.nameChanged,value:this.state.name})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"pokemon-type",children:"Search by Pokemon Type"}),e.jsx(j,{id:"pokemon-type",name:"type",onChange:this.typeChanged,options:this.props.pokemonTypes,value:this.state.type})]})]})}),this.bottomSection()]})}}function N({appName:s,pokemonTypes:n}){return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Welcome to "+s}),e.jsx("div",{className:"relative min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto p-6 lg:p-8 text-center",children:e.jsx(y,{pokemonTypes:n})})})]})}export{N as default};
